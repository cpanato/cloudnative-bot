version: 1.0
provider:
  name: openfaas
functions:
  k8s-patch-release:
    lang: go
    build_args:
      GO111MODULE: on
    handler: ./k8s-patch-release
    image: ctadeu/k8s-patch-release:latest
    secrets:
      - cloudnative-twitter-config
    annotations:
      topic: "cloudnative.twitter.schedule"
    environment:
      combine_output: false
      exec_timeout: "300s"